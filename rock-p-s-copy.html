<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="../Rock-Paper-Scissors/rock-paper-scissors.css" rel="stylesheet">
  <title>Rock-paper-scissors</title>
</head>
<body>
  <h1 class="start_game">Let's play the game: Rock-paper-scissors</h1>
  <p class="indication">You have to pick one of the three following items below:</p>
   
  <div class="main_box">
  
    <div class="rock_button">
  
      <button class="display_button" type="button" onclick="
       gameResult('rock') ;
       miniScore();
       pickComputerMove();
        ">
        <img class="rock_picture" src="..//Rock-Paper-Scissors/Pictures/Rock.jpg">
        <p class="main_object">ROCK</p>
      </button>
    </div>
    
    <div class="paper_button">
      <button class="display_button" onclick="
        gameResult('paper');
        miniScore2();
        pickComputerMove();">        
        
        <img class="paper_picture" src="../Rock-Paper-Scissors/Pictures/Paper.jpg">
        <p class="main_object">PAPER</p>
      </button>
    </div>

    <div class="scissors_button">
      <button class="display_button" onclick="
          gameResult('scissors');
          miniScore3();
          pickComputerMove(); ">
        <img class="scissors_picture" src="../Rock-Paper-Scissors/Pictures/Scissors.jpg">
        <p class="main_object">SCISSORS</p>
      </button>
    </div>

    

    <div class="reset_button">
      <button onclick= "
        score.wins= 0;
        score.losses= 0;
        score.ties= 0;
        localStorage.removeItem('score');
        updateScoreElement();
        ">
       Reset the Score
      </button>
    </div>

    <div class="auto_play">
      <button onclick="
        autoPlay();
        ">Auto Play</button>

    </div>

  <div class="results">
    <p class="outputs">Outputs:</p>
    <p class="js-winner result">You win</p>
    <p class="js-moves"></p>
    <p class="js-score"></p>

  </div>
    
  <div class="final_picks">
    <p class="result2">Results</p>     
    <p class="a2"></p>
    <p class="a3">...</p>
      
  </div>


</div>

<script>
  let score = JSON.parse(localStorage.getItem('score')) || {
    wins: 0,
    losses:0,
    ties: 0
    };

 /* 
  if (!score) {
    score = {
      wins: 0,
      losses:0,
      ties: 0
    };
  }
*/
  function pickComputerMove() {
    const randomNumber = Math.random();

    let computerChoice='';
        
      if (randomNumber > 0 && randomNumber < 1/3  ) {
        computerChoice = 'rock';
      
      }
      else if ( randomNumber >= 1/3 && randomNumber < 2/3){
        computerChoice = 'paper';
      
      else{
        computerChoice = 'scissors'; 
      }
      
      return computerChoice;
  }
  }


    function gameResult(playerMove){
      const computerChoice = pickComputerMove();
      let result ='';

      if (playerMove === 'scissors'){

        if (computerChoice === 'rock'){
          result = 'I lost!';
        }
        else if (computerChoice === 'paper'){
          result = 'I won!';
        }
        else{
          result = 'It\'s a tie!';
        }
        }
      else if (playerMove === 'rock'){

        if (computerChoice === 'rock'){
          result = 'It\'s a tie!';
        }
        else if (computerChoice === 'paper'){
          result = 'I lost!';
        }
        else{
          result = 'I won!';
        }
      }

      else if (playerMove === 'paper'){
        if (computerChoice === 'rock'){
          result = 'I won!';
        }
        else if (computerChoice === 'paper'){
          result = 'It\'s a tie!';
        }
        else{
          result = 'I lost!';
        }
      }

      if (result === 'I lost!'){
      score.losses += 1;
      }
      else if (result === 'I won!'){
        score.wins += 1;
      }
      else if (result === 'It\'s a tie!'){
        score.ties += 1;
      }
    }
     localStorage.setItem('score', JSON.stringify(score));

     updateScoreElement();

        document.querySelector('.js-winner')
      .innerHTML = `${result}`
  
      document.querySelector('.a2').innerHTML =
        `Me <img src="../Rock-Paper-Scissors/Pictures/${playerMove}.jpg" class="small_result">`
      
      document.querySelector('.a3').innerHTML =
        `Me <img src="../Rock-Paper-Scissors/Pictures/${computerChoice}.jpg" class="small_result">`

        document.querySelector('.js-moves')
      .innerHTML = `I chose ${playerMove} and the computer chose ${computerChoice}. That means ${result}`
    

     function updateScoreElement(){
      document.querySelector('.js-score').
      innerHTML = `Wins: ${score.wins}  Losses: ${score.losses}  Ties: ${score.ties}`;
     }
     updateScoreElement();
     
  
     function auto
    
    
 
</script>
</body>
</html>